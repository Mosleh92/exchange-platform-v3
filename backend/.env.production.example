# ==============================================
# پیکربندی سرور پروداکشن - Backend
# ==============================================

# Application Configuration
NODE_ENV=production
PORT=5000
APP_NAME="پلتفرم صرافی چند‌مستأجری"
APP_VERSION=1.0.0

# Domain and URLs
DOMAIN=yourdomain.com
FRONTEND_URL=https://yourdomain.com
BACKEND_URL=https://api.yourdomain.com
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Database Configuration
MONGODB_URI=mongodb://username:password@mongodb-host:27017/exchange_platform?authSource=admin
MONGODB_URI_REPLICA_SET=mongodb://user:pass@host1:27017,host2:27017,host3:27017/exchange_platform?replicaSet=rs0&authSource=admin

# Redis Configuration
REDIS_URL=redis://username:password@redis-host:6379
REDIS_HOST=redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-at-least-64-characters-long-for-production
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-at-least-64-characters-long-for-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-super-secure-session-secret-at-least-64-characters-long
SESSION_MAX_AGE=86400000

# Security Configuration
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100
RATE_LIMIT_AUTH_MAX=5

# Email Configuration (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME="پلتفرم صرافی"

# File Upload Configuration
UPLOAD_PATH=/app/uploads
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx

# External APIs
EXCHANGE_RATE_API_KEY=your-exchange-rate-api-key
EXCHANGE_RATE_BASE_URL=https://api.exchangerate-api.com/v4
NOTIFICATION_SERVICE_URL=https://your-notification-service.com
PAYMENT_GATEWAY_URL=https://your-payment-gateway.com
PAYMENT_GATEWAY_KEY=your-payment-gateway-key

# Logging
LOG_LEVEL=info
LOG_TO_FILE=true
LOG_DIR=/app/logs
LOG_MAX_SIZE=100m
LOG_MAX_FILES=14d

# Monitoring and Health
HEALTH_CHECK_ENDPOINT=/health
METRICS_ENDPOINT=/metrics
MONITORING_API_KEY=your-monitoring-api-key

# SSL/TLS
FORCE_HTTPS=true
TRUST_PROXY=true
SECURE_COOKIES=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1
BACKUP_S3_ACCESS_KEY=your-s3-access-key
BACKUP_S3_SECRET_KEY=your-s3-secret-key

# Feature Flags
ENABLE_2FA=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_AUDIT_LOGS=true
ENABLE_RATE_LIMITING=true
ENABLE_CSRF_PROTECTION=true

# Performance
MONGODB_POOL_SIZE=10
REDIS_POOL_SIZE=10
CLUSTER_WORKERS=0

# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production

# Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

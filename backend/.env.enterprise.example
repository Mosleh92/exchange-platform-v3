# Enterprise Exchange Platform Environment Configuration
# Copy this file to .env and update with your specific values

# =================
# APPLICATION CONFIG
# =================
NODE_ENV=development
PORT=3000
APP_NAME=Exchange Platform Enterprise
FRONTEND_URL=http://localhost:5173

# =================
# DATABASE CONFIG (PostgreSQL)
# =================
# Primary database connection
DATABASE_URL=postgresql://postgres:password@localhost:5432/exchange_enterprise
DB_HOST=localhost
DB_PORT=5432
DB_NAME=exchange_enterprise
DB_USER=postgres
DB_PASSWORD=your-secure-database-password

# Connection pool settings
DB_MAX_CONNECTIONS=20
DB_MIN_CONNECTIONS=5
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=30000
DB_QUERY_TIMEOUT=30000

# =================
# REDIS CONFIG
# =================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-secure-redis-password
REDIS_DB=0

# =================
# JWT SECURITY CONFIG
# =================
# Use strong random keys in production (at least 256 bits)
JWT_SECRET=your-super-secure-jwt-secret-key-256-bits-minimum
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-key-256-bits-minimum
JWT_EXPIRE=15m
JWT_REFRESH_EXPIRE=7d

# =================
# ENCRYPTION CONFIG
# =================
# Use a 32-character key for AES-256 encryption
ENCRYPTION_KEY=your-32-character-aes-256-encryption-key

# =================
# TWO-FACTOR AUTHENTICATION
# =================
TWO_FACTOR_SERVICE_NAME=Exchange Platform Enterprise
TWO_FACTOR_ISSUER=Your Company Name

# =================
# RATE LIMITING CONFIG
# =================
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100
RATE_LIMIT_WHITELIST=127.0.0.1,::1

# Authentication rate limits
AUTH_RATE_LIMIT_MAX=5
TRANSACTION_RATE_LIMIT_MAX=10
API_RATE_LIMIT_MAX=60
FILE_UPLOAD_RATE_LIMIT_MAX=5

# =================
# EXTERNAL APIS
# =================
# Exchange rate APIs
EXCHANGE_RATE_API_KEY=your-exchange-rate-api-key
EXCHANGE_RATE_API_URL=https://api.exchangerate-api.com/v4/latest

# Notification services
NOTIFICATION_API_KEY=your-notification-service-key
EMAIL_SERVICE_API_KEY=your-email-service-api-key
SMS_SERVICE_API_KEY=your-sms-service-api-key

# Payment gateways
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret

# =================
# MONITORING & LOGGING
# =================
LOG_LEVEL=info
ENABLE_MONITORING=true
SENTRY_DSN=your-sentry-dsn-for-error-tracking

# =================
# EMAIL CONFIG
# =================
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-smtp-username
SMTP_PASS=your-smtp-password
FROM_EMAIL=noreply@your-domain.com
FROM_NAME=Exchange Platform Enterprise

# =================
# FILE STORAGE
# =================
STORAGE_TYPE=local
# For AWS S3 storage
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket-name

# For local storage
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=10485760

# =================
# COMPLIANCE & SECURITY
# =================
# KYC/AML settings
KYC_PROVIDER=manual
AML_SCREENING_ENABLED=true
COMPLIANCE_WEBHOOK_URL=https://your-compliance-system.com/webhook

# IP Geolocation
IP_GEOLOCATION_API_KEY=your-ip-geolocation-api-key

# =================
# MULTI-TENANT CONFIG
# =================
# Default tenant limits
DEFAULT_MAX_USERS=100
DEFAULT_MAX_TRANSACTIONS_PER_DAY=1000
DEFAULT_MAX_STORAGE_GB=5

# Subscription plans
ENABLE_BILLING=false
BILLING_WEBHOOK_SECRET=your-billing-webhook-secret

# =================
# DEVELOPMENT CONFIG
# =================
# Enable/disable features for development
ENABLE_SWAGGER_UI=true
ENABLE_CORS=true
CORS_ORIGIN=http://localhost:5173
ENABLE_REQUEST_LOGGING=true

# Debug settings
DEBUG_TRANSACTIONS=false
DEBUG_AUTHENTICATION=false
DEBUG_RATE_LIMITING=false

# =================
# PRODUCTION CONFIG
# =================
# SSL/TLS settings
SSL_ENABLED=false
SSL_CERT_PATH=./certs/cert.pem
SSL_KEY_PATH=./certs/key.pem

# Session settings
SESSION_SECRET=your-super-secure-session-secret
SESSION_TIMEOUT=3600

# =================
# FEATURE FLAGS
# =================
ENABLE_P2P_TRADING=true
ENABLE_REMITTANCE=true
ENABLE_CURRENCY_EXCHANGE=true
ENABLE_API_ACCESS=true
ENABLE_MOBILE_APP=false
ENABLE_ADVANCED_REPORTING=true

# =================
# LOCALIZATION
# =================
DEFAULT_LANGUAGE=en
DEFAULT_TIMEZONE=UTC
SUPPORTED_LANGUAGES=en,es,fr,de,ja,zh
SUPPORTED_CURRENCIES=USD,EUR,GBP,JPY,BTC,ETH,LTC,XRP

# =================
# BACKUP & RECOVERY
# =================
ENABLE_AUTO_BACKUP=false
BACKUP_INTERVAL=24
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-s3-bucket

# =================
# TESTING CONFIG
# =================
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/exchange_enterprise_test
DISABLE_RATE_LIMITING_IN_TESTS=true
MOCK_EXTERNAL_APIS=true